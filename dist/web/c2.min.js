function c2js(t,e,n){var i=function(t){return t.__proto__===Object.prototype},r=function(n,i){c2js.c2("["+c2js.APP_NAME+"]").each(function(t,e){!e.c2&&new c2js.Init(e,n,i)})};if(!(3===arguments.length||2===arguments.length&&i(e)||1===arguments.length&&!i(t)&&"function"!=typeof t))return 2===arguments.length?i(t)?void c2js.DOMReady(function(){r(t,e)}):void c2js.DOMReady(function(){new c2js.Init(t,void 0,e)}):1===arguments.length?i(t)?void c2js.DOMReady(function(){r(t)}):void c2js.DOMReady(function(){r(void 0,t)}):void c2js.DOMReady(function(){r()});c2js.DOMReady(function(){new c2js.Init(t,e,n)})}!function(o){o.APP_NAME="c2js";var u,t,l,e,s=document;window;(t=u||(u={})).VOLUME="_C2.VOLUME",t.MUTED="_C2.MUTED",t.TIME="_C2.CURRENT_TIME",t.SRC="_C2.SOURCE",(e=l||(l={}))[e.HAVE_NOTHING=0]="HAVE_NOTHING",e[e.HAVE_METADATA=1]="HAVE_METADATA",e[e.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",e[e.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",e[e.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";var a,n=[],i=[],c={seeking:!1,last:void 0},d={space:[" ","spacebar"],ctrl:["ctrl","control"],alt:["alt","altgraph"],del:["del","delete"],esc:["esc","escape"],left:["left","arrowleft"],up:["up","arrowup"],right:["right","arrowright"],down:["down","arrowdown"]},f={saveTime:!1,speed:{min:0,max:3},timer:1e3,timeFormat:"mm:ss"};try{f.saveWith=localStorage?"localStorage":"cookie"}catch(t){f.saveWith="cookie"}function h(t,e){return e[t===e[0]?1:0]}function m(t){return null!=t}function p(t,e,n){return t<e?e:n<t?n:t}function v(t,e,n){if(!t)return{number:0};var i=(t+"").match(/^(\D*)(\d|\.)+(\D*)$/),r={signal:i[1],type:i[3],number:parseFloat(t)},o="%"===r.type?n:e;return o&&function(t,e){if(!t.type)return;if("number"==typeof e)return t.type="",t.number*=e/100;var n=["ms","s","m","h","d"],i=[1e3,60,60,24],r=n.indexOf(t.type),o=n.indexOf(e);t.type=e;for(;r!==o;)o<r?t.number*=i[--r]:t.number/=i[r++]}(r,o),r}function y(t){var e=[11,8];return t<3600&&(e=[14,5]),new Date(1e3*t).toISOString().substr(e[0],e[1])}function g(t,e){return-1!==t.indexOf(e)}o.DOMReady=function(t){"loading"!==s.readyState?t():s.addEventListener("DOMContentLoaded",function(){t()})},o.ready=function(e){n.forEach(function(t){e.apply(t.root,t)}),i.push(e)},o.toggleVal=h;var r=function(){function t(t,e,n){void 0===e&&(e={});var i=this;this.cache={},this.ctrls={loading:{media:{"loadstart seeking waiting":function(t){t.$all.data("loading",!0)},"canplay error":function(t){t.$all.data("loading",!1)}}},play:{events:{click:function(t){t.$media.attr("src")?t.media.paused?t.media.play():t.media.pause():(t.$media.trigger("error"),console.error("Trying to play/pause media without source."))}},media:{playing:function(t){t.$all.data("play",!0)},pause:function(t){t.$all.data("play",!1)},error:function(t){t.$all.data("play","null")}}},stop:{events:{click:function(t){t.media.paused||t.media.pause(),t.$all.data("stop",!0),t.media.currentTime=0}},media:{play:function(t){t.$all.data("stop",!1)},"loadeddata ended error":function(t){t.context.hasStatus("stop")||t.$all.data("stop",!0)}}},skip:{events:{click:function(t){var e=t.media.duration,n=v(E(this).data("skip"),"s",e),i=n.number;n.signal&&(i=p(i+=t.media.currentTime,0,e)),t.media.currentTime=i}}},volume:{events:{click:function(t){var e=v(E(this).data("volume"),null,1),n=e.number;e.signal&&(n=p(n+=t.media.volume,0,1)),t.media.volume=n}}},mute:{events:{click:function(t){t.media.muted=!t.media.muted}},media:{"loadeddata volumechange":function(t){t.$all.data("mute",!t.media.volume||t.media.muted)}}},fullscreen:{ready:function(t){!function(){if(a)return a.allowed;var e,n=E(s);if(s.webkitFullscreenEnabled)e=["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitfullscreenchange","webkitfullscreenerror"];else if(s.webkitCancelFullScreen)e=["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitfullscreenchange","webkitfullscreenerror"];else if(s.mozFullScreenEnabled)e=["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozfullscreenchange","mozfullscreenerror"];else if(s.msFullscreenEnabled)e=["msRequestFullscreen","msExitFullscreen","msFullscreenElement","MSFullscreenChange","MSFullscreenError"];else{if(!s.fullscreenEnabled)return!(a={allowed:!1});e=["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenchange","fullscreenerror"]}return a={allowed:!0,enter:function(t){t[e[0]]()},leave:function(){s[e[1]]()},check:function(){return s[e[2]]},onChange:function(t){n.on(e[3],t)},onError:function(t){n.on(e[4],t)}},!0}()?t.$all.data("fullscreen","null"):(a.onChange(function(){t.$all.data("fullscreen",t.root===a.check())}),a.onError(function(){t.root===a.check()&&(alert("Fullscreen Error!"),console.error("Fullscreen Error!"))}))},events:{click:function(t){a.allowed&&(a.check()?a.leave():a.enter(t.root))}}},"time-seek":{helpers:{setTime:function(t,e){var n=parseFloat(E(t).attr("max")),i=E(t).val();e.currentTime=e.duration*i/n},setSeek:function(t,e){var n=parseFloat(E(t).attr("max")),i=e.currentTime*n/e.duration;E(t).val(i||0)}},ready:function(t){t.$all.each(function(t,e){E(e).attrIfNotExists("step",.1).attrIfNotExists("max",100).val(0)})},events:{"input change":function(t){t.setTime(this,t.media)},mousedown:function(){c.seeking=!0},mouseup:function(){c.seeking=!1}},media:{"loadeddata timeupdate seeked":function(n){c.seeking||n.$all.each(function(t,e){n.setSeek(e,n.media)})}}},"volume-seek":{helpers:{setVolume:function(t,e){var n=E(t).val();if(!e.muted||n){var i=E(t).attr("max");e.volume=n/i||0,e.muted=!e.volume}},setSeek:function(t,e){if(e.muted)E(t).val(0);else{var n=E(t).attr("max");E(t).val(e.volume*n)}}},ready:function(t){t.$all.each(function(t,e){E(e).attrIfNotExists("step",5).attrIfNotExists("max",100).val(0)})},events:{"input change":function(n){n.$all.each(function(t,e){n.setVolume(e,n.media)})}},media:{"loadeddata volumechange":function(n){n.$all.each(function(t,e){n.setSeek(e,n.media)})}}},time:{helpers:{update:function(t,e){var n=e.currentTime,i="";"remaining"===E(t).data("time")&&(n=e.duration-e.currentTime,i="-"),E(t).text(i+y(n))}},events:{click:function(t){E(this).data("time",h(E(this).data("time"),["current","remaining"])),t.update(this,t.media)}},media:{"loadeddata stimeupdate":function(n){n.$all.each(function(t,e){n.update(e,n.media)})}}},duration:{media:{"loadeddata durationchange":function(r){r.$all.each(function(t,e){var n=r.media.duration,i=E(e).data("duration");i?E(e).attr(i,y(n)):E(e).text(y(n))})}}},loop:{events:{click:function(t){E(this).data("loop",t.media.loop=!t.media.loop)}}},speed:{events:{click:function(t){var e=t.context.config.speed,n=v(E(this).data("speed"),null,1),i=n.number;n.signal&&(i=p(i+=t.media.playbackRate,e.min,e.max)),t.media.playbackRate=i}}},timer:{ready:function(n){var i=this;n.$all.each(function(t,e){e.c2.timer=E(i).config("timer")||n.context.config.timer})},events:{mousemove:function(){var t=this,e=this.c2;e.timerId?clearTimeout(e.timerId):E(this).data("timer","true"),this.c2.timerId=setTimeout(function(){e.timerId=void 0,E(t).data("timer","false")},e.timer)}}},status:{},custom:{}};var r=this;E.fn.data=function(t,e){return void 0===e?E(this).attr("c2-"+t):(!0===e?r.addStatus(t):!1===e&&r.rmStatus(t),E(this).attr("c2-"+t,e))},t.c2={instance:this},this.status="",this.shortcuts=[],this.root=E(t).get(0),this.$root=E(this.root),this.$media=this.$root.findOne("video, audio"),this.media=this.$media.get(0),this.id=this.$root.attr(o.APP_NAME),this.$media.on("timeupdate",function(){(0|i.cache.currentTime)!=(0|i.media.currentTime)&&(i.cache.currentTime=i.media.currentTime,i.$media.trigger("stimeupdate"))}),this.config=e,E.each(f,function(t,e){void 0===i.config[t]&&(i.config[t]=e)}),this.$root.attrIfNotExists("tabindex",-1),this.$media.attrIfNotExists("src","").attrIfNotExists("tabindex",-1),this.initControls(),this.loadSavedInfo(),this.bindSaveEvents(),this.executeOnReadyHandlers(n)}return t.prototype.executeOnReadyHandlers=function(t){var e=this;i.forEach(function(t){t.call(e.root,e)}),t&&t(this),n.push(this)},t.prototype.mediaReadyState=function(t){return this.media.readyState>=t},t.prototype.createHandler=function(e,t){var n=t.helpers;return n.root=this.root,n.$root=this.$root,n.media=this.media,n.$media=this.$media,n.context=this,function(t){n.event=t,e.call(this,n)}},t.prototype.getAll=function(t){return this.ctrls[t].helpers.$all},t.prototype.setStatus=function(){this.$root.data("status",this.status),this.getAll("status").data("status",this.status)},t.prototype.addStatus=function(t){this.hasStatus(t)||(this.status+=" "+t,this.status=this.status.trim(),this.setStatus())},t.prototype.rmStatus=function(t){var e=new RegExp("\\s?("+t+")");this.status=this.status.replace(e,"").trim(),this.setStatus()},t.prototype.hasStatus=function(t){return g(this.status,t)},t.prototype.initControls=function(){var i=this;E.each(this.ctrls,function(t,e){var n=i.$root.control(t).initProp("c2");n&&(e.helpers||(e.helpers={}),e.helpers.$all=n,i.propertyController(e),i.addShortcuts(n))}),this.redirectControlFocus(),this.bindShortcuts()},t.prototype.propertyController=function(t){t.ready&&this.bindReady(t),t.media&&this.bindMedia(t),t.events&&this.bindEvents(t)},t.prototype.bindEvents=function(n){var i=this,r=n.helpers.$all.notNull();E.each(n.events,function(t,e){r.on(t,i.createHandler(e,n))})},t.prototype.bindMedia=function(n){var i=this,r=this.mediaReadyState(l.HAVE_CURRENT_DATA);E.each(n.media,function(t,e){e=i.createHandler(e,n),g(t,"loadeddata")&&r&&r&&e(),i.$media.on(t,e)})},t.prototype.bindReady=function(t){this.createHandler(t.ready,t)()},t.prototype.addShortcuts=function(t){var r=this;t.each(function(t,e){var n=E(e),i=n.data("shortcuts");i&&i.toLowerCase().split(" ").forEach(function(t){"dblclick"===t?r.$root.on(t,function(t){"false"!==E(t.target).config("dblClick")&&n.trigger("click")},!0):(d[t]||[t]).forEach(function(t){r.shortcuts[t]=e})})})},t.prototype.bindShortcuts=function(){var i=this;this.$root.on("keydown",function(t){var e,n=t.key.toLowerCase();(e=i.shortcuts[n])&&(E(e).trigger("click"),t.preventDefault())})},t.prototype.redirectControlFocus=function(){var e=this;this.$root.on("focus",function(t){e.root.focus(),t.stopPropagation()},!0)},t.prototype.loadSavedInfo=function(){var t=this,e=this.config;if("none"!==e.saveWith){var n=this.cache.storage="cookie"===e.saveWith?E.cookie:E.storage,i=n(u.VOLUME),r=n(u.MUTED),o=n(u.SRC),a=n(u.TIME);if(m(i)&&(this.media.volume=i),this.media.muted=!0===r||"true"===r,m(o)){var s=this.$media.attr("src");if(!s||s===o){var c=function(){m(a)&&(t.media.pause(),t.media.currentTime=parseFloat(a),t.media.currentTime+=.001)};this.mediaReadyState(l.HAVE_METADATA)?c():(this.$media.one("loadedmetadata",c),s||this.$media.attr("src",o))}}}},t.prototype.bindSaveEvents=function(){var t=this,e=this.config;if("none"!==e.saveWith){var n,i=this.cache.storage;if(this.$media.on("volumechange",function(){var t=this.volume,e=this.muted;i(u.VOLUME,t),i(u.MUTED,!t||e)}),e.saveTime)(n=this.$media.attr("src"))&&i(u.SRC,n),this.$media.on("loadstart",function(){(n=t.$media.attr("src"))&&i(u.SRC,n)}),this.$media.on("stimeupdate",function(){i(u.TIME,this.currentTime)}),this.$media.on("ended",function(){i(u.TIME,0)})}},t}();function E(t,e){return new E.Query(t,e||s)}o.Init=r,o.c2=E,function(e){var t=function(){function i(t,e){if("string"==typeof t){var n=t.match(/^([#.]?)([-\w]+)(.*)$/);!n||n[3]?this.list=e.querySelectorAll(t):n[1]?"."===n[1]?this.list=e.getElementsByClassName(n[2]):this.list=[e.querySelector("#"+n[2])]:this.list=e.getElementsByTagName(n[2])}else t instanceof i?this.list=t.list:r(t)?this.list=t:this.list=[t]}return i.prototype.each=function(t){return a(this.list,t),this},i.prototype.on=function(t,e,n){return this.eventListener("add",t,e,n)},i.prototype.off=function(t,e,n){return this.eventListener("remove",t,e,n)},i.prototype.one=function(t,e,n){return this.on(t,e.$handler=function(t){return this.removeEventListener(t.type,e.$handler,n),e.apply(this,arguments)},n)},i.prototype.eventListener=function(n,i,r,o){return void 0===o&&(o=!1),i=i.split(" "),this.each(function(t,e){i.forEach(function(t){"click"===t&&(e.hasOnClick=!0),e[n+"EventListener"](t,r,o)})})},i.prototype.trigger=function(n){var i;try{i=new CustomEvent(n,{bubbles:!0,cancelable:!0})}catch(t){(i=s.createEvent("CustomEvent")).initCustomEvent(n,!0,!0,"CustomEvent")}return this.each(function(t,e){if("focus"===n)return e.focus();e.dispatchEvent(i)})},i.prototype.empty=function(){return!this.list.length},i.prototype.toggleClass=function(t){return this.requestClassList("toggle",t)},i.prototype.addClass=function(t){return this.requestClassList("add",t)},i.prototype.removeClass=function(t){return this.requestClassList("remove",t)},i.prototype.requestClassList=function(n,i){try{return this.each(function(t,e){e.classList[n](i)})}catch(t){return console.error("ClassList not supported!\nError:"),console.error(t),this}},i.prototype.attr=function(n,i){if(!this.empty())return o(i)?this.each(function(t,e){e.setAttribute(n,i+"")}):this.get(0).getAttribute(n)},i.prototype.attrIfNotExists=function(n,i){return this.each(function(t,e){m(e.getAttribute(n))||e.setAttribute(n,i)})},i.prototype.prop=function(n,i){return o(i)?this.each(function(t,e){e[n]=i}):this.get(0)[n]},i.prototype.val=function(t){return this.prop("value",t)},i.prototype.text=function(n){if(o(n))return this.each(function(t,e){e.textContent=n});var i="";return this.each(function(t,e){i+=e.textContent}),i.trim()||void 0},i.prototype.css=function(n,i){var r=this;if("string"!=typeof n)return a(n,function(t,e){r.css(t,e)}),this;if(o(i))return"number"==typeof n&&(i+="px"),this.each(function(t,e){e.style[n]=i});if(!this.empty()){var t=this.get(0),e=t.ownerDocument.defaultView;return e&&e.getComputedStyle?e.getComputedStyle(t,void 0).getPropertyValue(n):t.currentStyle?t.currentStyle[n]:t.style[n]}},i.prototype.find=function(t){return e(t,this.get(0))},i.prototype.findOne=function(t){return e(this.get(0).querySelector(t))},i.prototype.filter=function(n){var i=[];return this.each(function(t,e){n.call(e,t,e)&&i.push(e)}),e(i)},i.prototype.first=function(){var t=1<this.list.length?[this.list[0]]:this.list;return e(t)},i.prototype.get=function(t){return this.list[t]},i.prototype.initProp=function(n){return this.each(function(t,e){e[n]={}})},i.prototype.control=function(t){return this.find("[c2-"+t+"]")},i.prototype.notNull=function(){return this.filter(function(t,e){return!e.hasAttribute("c2-null")})},i.prototype.custom=function(t){return this.find("[c2-custom="+t+"]")},i.prototype.config=function(t){return this.first().attr("c2-config:"+t)},i}();function r(t){if(Array.isArray&&Array.isArray(t))return!0;if(!t)return!1;var e=t.length;return"number"==typeof e&&(0===e||0<e&&e-1 in t)}function o(t){return void 0!==t}function a(t,e){if(r(t))for(var n=0;n<t.length;n++)e.call(t[n],n,t[n]);else for(var i in t)e.call(t[i],i,t[i]);return t}e.Query=t,e.each=a,e.storage=function(t,e){try{if(!o(e))return localStorage.getItem(t);localStorage.setItem(t,e)}catch(t){return console.error("LocalStorage is not available and thrown an error."),""}},e.cookie=function(t,e){if(o(e))s.cookie=t+"="+JSON.stringify(e)+"; path=/;";else{var n,i=t+"=";s.cookie.split(";").some(function(t){return!!g(t=t.trim(),i)&&(n=t.substring(i.length,t.length),!0)});try{return JSON.parse(n)}catch(t){return n}}},e.fn=t.prototype}(E=o.c2||(o.c2={}))}(c2js||(c2js={}));